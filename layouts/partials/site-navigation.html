<nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="{{ .Site.BaseURL }}" class="f3 fw2 dim no-underline white-90 dib">
      {{ .Site.Title }}
    </a>
    <div class="flex-l items-center">
      {{ if .Site.Menus.main }}
        <ul class="pl0 mr3">
          {{ range .Site.Menus.main }}
            {{/* Name gets overloaded: "[icon-][label-]ActualMenuNameLabel */}}
            {{- $includeLabel := in .Name "label-" -}}
            {{- $hasIcon := in .Name "icon-" -}}
            {{ $label := replace .Name "icon-" "" }}
            {{ $label := replace $label  "label-" "" }}
            <li class="list f5 f4-ns fw4 dib pr3">
            {{ if not $hasIcon }}
              <a class="dim no-underline white-90" href="{{ .URL }}" title="{{ $label }} page">{{ $label }}</a>
            {{ else }}
              <a class="dim no-underline white-90" href="{{ .URL }}" title="{{ $label }} page">
              {{- with .Pre -}}{{ . }}{{- end -}}
              {{- if $includeLabel -}}{{- $label -}}{{- end -}}
              {{- with .Post -}}{{ . }}{{- end -}}
              </a>
            {{ end }}
            </li>
          {{ end }}
        </ul>
      {{ end }}
      {{ partial "social-follow.html" . }}
    </div>
  </div>
</nav>
